<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>91 CLUB Color Prediction Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body { font-family:Arial,sans-serif;background:#fff2f2;margin:0;}
    .main { max-width:400px;margin:14px auto;background:#fff;border-radius:16px;box-shadow:0 4px 16px #fdd3d3;padding:0 0 18px 0;}
    .header { background:#fc617b;padding:16px 0;border-radius:16px 16px 0 0;color:#fff;text-align:center; }
    .timerbox { text-align:center;margin:14px 0; }
    .color-btns { display:flex;justify-content:space-around;margin:16px 0;}
    .cbtn { min-width:65px;padding:12px 0;font-size:19px;font-weight:bold;border-radius:12px;border:none;cursor:pointer;color:#fff;}
    .green { background:#2ad375; }
    .violet { background:#a78afd; }
    .red { background:#f94246; }
    .numbers { display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin:10px 15px;}
    .num-btn { font-size:17px;font-weight:bold;padding:13px 0;border-radius:11px;border:none;color:#fff;}
    .bet-mult { margin:13px 0;text-align:center;}
    .bet-mult button { padding:7px 14px 7px 14px; border:1px solid #fc617b; background:#fff; color:#fc617b; font-weight:600; border-radius:8px;margin:0 3px;}
    .bigsmall { display:flex;justify-content:center;margin:11px 0;}
    .bigsmall button {padding:8px 26px;margin:0 6px;border:none;border-radius:20px;font-weight:700;}
    .big { background:#ffec99;}
    .small { background:#aad4fe;}
    .bet-btn {display:block;margin:17px auto 7px auto;padding:12px 48px;background:#fc617b;color:#fff;border-radius:14px;border:none;font-size:17px;font-weight:bold;}
    .wallet {float:right;font-weight:bold;margin-top:-9px;}
    .betmsg {text-align:center;margin-bottom:6px;min-height:22px;}
    .tabbar {display:flex;justify-content:space-around;margin:10px 0 0 0;padding-top:7px;}
    .tabbar button {background:none;border:none;padding:7px 11px;font-weight:700;}
    .tabbar .active {color:#fc617b;}
    .history {margin:0 10px;}
    table {width:100%;margin-top:10px;background:#fff;}
    th,td {padding:5px 2px;text-align:center;font-size:14px;}
    .win {color:#25ad34;font-weight:bold;}
    .lose {color:#f94246;font-weight:bold;}
    .history thead {background:#fff8de;}
    .period {color:#aaa;font-size:12px;}
  </style>
</head>
<body>
  <div class="main">
    <div class="header">
      <span>91 CLUB</span>
      <span class="wallet">ðŸ’° â‚¹<span id="balance">1000</span></span><br/>
      <b>WinGo 1 Min</b>
    </div>
    <div class="timerbox">
      <span>Time remaining: <b id="timer">60</b>s</span><br>
      <span class="period" id="period">20250723100010691</span>
    </div>

    <div class="color-btns">
      <button class="cbtn green" onclick="pickColor('Green')">Green</button>
      <button class="cbtn violet" onclick="pickColor('Violet')">Violet</button>
      <button class="cbtn red" onclick="pickColor('Red')">Red</button>
    </div>

    <div class="numbers" id="numberBtns"></div>

    <div class="bet-mult">
      <button onclick="setBet(10)">x1</button>
      <button onclick="setBet(50)">x5</button>
      <button onclick="setBet(100)">x10</button>
      <button onclick="setBet(200)">x20</button>
      <button onclick="setBet(500)">x50</button>
      <button onclick="setBet(1000)">x100</button>
      <span style="margin-left:10px;color:#888;">(â‚¹)</span>
    </div>

    <div class="bigsmall">
      <button class="big" onclick="pickBS('Big')">Big</button>
      <button class="small" onclick="pickBS('Small')">Small</button>
    </div>

    <button class="bet-btn" onclick="placeBet()">Place Bet</button>
    <div class="betmsg" id="betMsg"></div>

    <div class="tabbar">
      <button class="active">The history</button>
      <button disabled>Chart</button>
      <button disabled>Follow Strategy</button>
    </div>

    <div class="history">
      <table id="historyTable">
        <thead>
          <tr><th>Period</th><th>Number</th><th>Big/Small</th><th>Color</th><th>Result</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
  <script>
    // --- Game Core Data ---
    let balance = 1000, betAmount = 10, betType = null, betValue = null;
    let betPlaced = false, betPeriod = null;
    let roundCount = 0, timer = 60, period = 20250723100010691;
    let history = [];

    // --- Number Buttons ---
    const numColors = ['violet','green','red','green','red','violet','green','red','green','red'];
    const numberBtns = document.getElementById("numberBtns");
    for(let i=0;i<10;i++){
      let b = document.createElement("button");
      b.innerText = i;
      b.className = "num-btn " + numColors[i];
      b.onclick = ()=>pickNumber(i);
      numberBtns.appendChild(b);
    }

    // --- Pick UI Functions ---
    function pickColor(c){ betType="color"; betValue=c; showBetChoice(); }
    function pickNumber(n){ betType="number"; betValue=n; showBetChoice(); }
    function pickBS(bs){ betType="bigsmall"; betValue=bs; showBetChoice(); }
    function setBet(amount){ betAmount = amount; showBetChoice(); }
    function showBetChoice(){
      document.getElementById("betMsg").innerHTML =
        `<span>Selected: <b>`+
        ( betType=="color"? betValue+" (Color)" :
          betType=="number"? betValue+" (Number)" :
          betType=="bigsmall"? betValue+" (Big/Small)" : "")
        + `</b> â‚¹${betAmount}</span>`;
    }

    // --- Place Bet ---
    function placeBet(){
      if(betPlaced) return;
      if(!betType){document.getElementById("betMsg").innerHTML='<span style="color:#f38">Please make a selection.</span>';return;}
      if(balance < betAmount){document.getElementById("betMsg").innerHTML='<span style="color:#f38">Insufficient balance</span>';return;}
      balance -= betAmount; betPlaced=true; betPeriod=period;
      document.getElementById("balance").innerText = balance;
      document.getElementById("betMsg").innerHTML = "<b>Bet Placed!</b> Round: "+period;
    }

    // --- Round Timer ---
    function loopRoundTimer(){
      document.getElementById("timer").innerText = timer;
      if(timer<=0){ setTimeout(runResult,300); return;}
      timer--; setTimeout(loopRoundTimer, 1000);
    }

    // --- Draw Result ---
    function runResult(){
      // Generate random number (backend in real code!)
      let randNum = Math.floor(Math.random()*10);
      let color = cap(numColors[randNum]);
      let bs = randNum>=5 ? "Big" : "Small";
      let resultStr = `${randNum} ${bs} ${color}`;
      let winType = '';
      let payout = 0;
      if(
          betPlaced&&
          betPeriod==period
        ){
        // Number win 9x, Color/BS win 2x (includes principal)
        if(betType=='number' && betValue==randNum){payout=betAmount*9; winType='win';}
        else if(betType=='color' && betValue==color){payout=betAmount*2; winType='win';}
        else if(betType=='bigsmall' && betValue==bs){payout=betAmount*2; winType='win';}
        else {winType='lose';}
        if(payout>0) balance += payout;
        document.getElementById("balance").innerText = balance;
      }
      history.unshift({
        period: period,
        num: randNum,
        bs: bs,
        color: color,
        result: betPlaced&&betPeriod==period?winType:"-"
      });
      if(history.length>10) history.pop();
      updateHistory();
      period++; timer=60; betPlaced=false; betType=betValue=null;
      document.getElementById("period").innerText = period;
      document.getElementById("betMsg").innerHTML = `<b>Result:</b> ${resultStr} ${
        winType?
          '<b style="color:'+(winType==="win"?'#18c12a':'#e22')+'">' + (winType==="win"?'Win!':'Lose') + '</b>':
          ''}`;
      setTimeout(loopRoundTimer,1000);
    }

    // --- Update Table ---
    function updateHistory(){
      let h = history.map(r=>`<tr>
        <td>${r.period}</td>
        <td><b>${r.num}</b></td>
        <td>${r.bs}</td>
        <td style="color:${r.color.toLowerCase()}">${r.color}</td>
        <td class="${r.result}">${r.result==="win"?"âœ”":"âœ–"}</td>
      </tr>`).join('');
      document.querySelector("#historyTable tbody").innerHTML = h;
    }

    function cap(s){return s.charAt(0).toUpperCase()+s.slice(1);}
    // Init
    document.getElementById("period").innerText = period;
    loopRoundTimer();
    showBetChoice();
    updateHistory();

  </script>
</body>
</html>
